<div class="container-fluid general-page">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Configurare Departamente</h4>
          <hr class="hr">
          <div class="ui-widget-header" style="padding:4px 10px;border-bottom: 0 none">
            <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
            <input #gb type="text" pInputText size="50" placeholder="Global Filter">
          </div>
          <p-dataTable [value]="departments" [paginator]="true" [rows]="10" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]" expandableRows="true"
            [globalFilter]="gb">
            <p-column expander="true" styleClass="col-icon"></p-column>
            <p-column field="codDepartament" header="Cod Departament"></p-column>
            <p-column field="denumireDepartament" header="Denumire Departament"></p-column>
            <p-column field="responsabilDepartament" header="Responsabil Departament"></p-column>

            <ng-template let-dep pTemplate="rowexpansion">
              <div class="ui-grid ui-grid-responsive ui-fluid" style="font-size:10px;padding:20px">
                <div class="ui-grid-row">

                  <div class="ui-grid-col-9">
                    <div class="ui-grid ui-grid-responsive ui-grid-pad">
                      <div class="ui-grid-row">
                        <div class="ui-grid-col-3">Cod Departament: </div>
                        <div class="ui-grid-col-3">
                          <input id="input" type="text" size="30" pInputText [(ngModel)]="dep.codDepartament">
                        </div>
                      </div>
                      <div class="ui-grid-row">
                        <div class="ui-grid-col-3">Denumire Departament: </div>
                        <div class="ui-grid-col-3">
                          <input id="input" type="text" size="30" pInputText [(ngModel)]="dep.denumireDepartament">
                        </div>
                      </div>
                      <div class="ui-grid-row">
                        <div class="ui-grid-col-3">Responsabil Departament: </div>
                        <div class="ui-grid-col-3">
                          <input id="input" type="text" size="30" pInputText [(ngModel)]="dep.responsabilDepartament">
                        </div>
                      </div>
                      <div class="ui-grid-row">
                        <div class="ui-grid-col-2">
                          <button pButton type="button" label="Salveaza" class="ui-button-success"></button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </p-dataTable>
          <div>
            <p-dialog header="Detalii Departament" [(visible)]="display" modal="modal" [responsive]="true" [width]="300" [minWidth]="200">
              <span>
                <p>Cod Departament</p>
                <input id="input" type="text" size="30" pInputText [(ngModel)]="departments.codDepartament">
                <p>Denumire Departament</p>
                <input id="input" type="text" size="30" pInputText [(ngModel)]="departments.denumireDepartament">
                <p>Responsabil Departament</p>
                <input id="input" type="text" size="30" pInputText [(ngModel)]="departments.responsabilDepartament">
              </span>
              <p-footer>
                <button type="button" pButton icon="fa-check" (click)="saveDepartment(cdep, ddep, rdep)" label="Salveaza"></button>
                <button type="button" pButton icon="fa-close" (click)="display=false" label="Renunta"></button>
              </p-footer>
            </p-dialog>

            <div class="ui-grid-row">

              <div class="ui-grid-col-2">

                <button pButton type="button" (click)="showDialog()" pButton icon="fa-external-link-square" label="Adauga"></button>
              </div>


            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>